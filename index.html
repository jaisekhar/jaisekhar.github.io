<!DOCTYPE html>
<html>
<body>
URL: <input type="text" id="url"><br>
KEY: <input type="text" id="key"><br>
<button type="button" onclick="loadDoc()">Request data</button><br>
Note: Please allow popup's.
<p id="demo"></p>
 
<script>
function loadDoc() {
var data = null;
var url = document.getElementById("url").value;
var key = document.getElementById("key").value;
var xhr = new XMLHttpRequest();
xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    //document.getElementById("demo").innerHTML = document.getElementById("url").value;
	var w = window.open('about:blank', 'windowname');
    //w.document.write(this.response);
	w.document.write(JSON.stringify(this.response, null, 6)
     .replace(/\n( *)/g, function (match, p1) {
         return '<br>' + '&nbsp;'.repeat(p1.length);
     }));
	w.document.close();
  }});
var proxy="https://cors-anywhere.herokuapp.com/"+url

xhr.open("GET", proxy);
xhr.setRequestHeader("X-COUPA-API-KEY", key);
xhr.setRequestHeader("Accept", "application/json");
xhr.send(data);
}
</script>

</body>
</html>
